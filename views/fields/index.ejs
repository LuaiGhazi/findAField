<% layout('layouts/boilerplate')%>
<h1>All Fields</h1>
<div class='container' m-auto>
    <div class="row">
        <% for(let field of fields) { %>
        <div class="col-md-4 card m-3 p-0" style="width: 18rem;">
            <%if(field.images.length) {%>
            <img class='card-img-top' src="<%=field.images[0].url%>" alt="">
            <% }else {%>
            <!-- Placeholder image in case no image is provided -->
            <img class="img-fluid" alt=""
                src="https://res.cloudinary.com/douqbebwk/image/upload/v1600103881/YelpCamp/lz8jjv2gyynjil7lswf4.png">
            <% } %>
            <div class='card-body d-flex flex-column justify-content-between'>
                <h5 class='card-title'>
                    <%= field.title%>
                </h5>
                <p class='card-text'>
                    <%= field.description%>
                </p>
                <p class='card-text'>
                    <small class='text-muted mt-auto'> Price: <%= field.price  %>
                    </small>
                </p>
                <a class='btn btn-primary mt-auto' href="/fields/<%=field._id%>"> View </a>
            </div>
        </div>
        <% }%>
    </div>
</div>